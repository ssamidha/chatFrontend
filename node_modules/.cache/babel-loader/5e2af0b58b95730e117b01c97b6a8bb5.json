{"ast":null,"code":"import _defineProperty from \"/home/admin1/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/admin1/frontend/src/components/ForgetPassword.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//forgetpassword\nimport React, { Component } from \"react\";\nimport { forgetpassword } from \"../services/userServices\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nclass ForgetPassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validate = () => {\n      let isError = false;\n      const errors = {\n        emailError: \"\"\n      };\n\n      if (!this.state.email.includes(\"@\")) {\n        isError = true;\n        errors.emailError = \"Requires valid email\";\n      }\n\n      this.setState(_objectSpread({}, this.state, {}, errors));\n      console.log(\"In validate----->\" + this.state);\n      return isError;\n    };\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        var path = \"/\";\n        this.props.history.push(path);\n      }\n    };\n\n    this.handlechangeall = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmitButton = event => {\n      event.preventDefault();\n      this.validate();\n      const err = this.validate();\n      var forgetData = {};\n      forgetData.email = this.state.email;\n      console.log(\"forget data===> \", forgetData);\n      forgetpassword(forgetData).then(res => {\n        console.log(\"response in forget password--> \", res); // console.log(\n        //   \"response in forget password token is--> \",\n        //   res.data.data\n        // );\n\n        if (res.data.meassage.success === true) {\n          alert(\"Link has been sent to your email id to reset the password..\");\n          this.setRedirect();\n        } else alert(\"Entered EmailId is not in database.....Please Register first\");\n\n        this.setRedirect();\n      }).catch(err => {\n        alert(\"Entered EmailId is not in database.....Please Register first\");\n        console.log(\"error in forget password--> \", err);\n      });\n\n      if (!err) {\n        // clear form\n        this.setState({\n          email: \"\",\n          emailError: \"\"\n        });\n      }\n    };\n\n    this.state = {\n      email: \"\",\n      emailError: \"\",\n      redirect: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"maindiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \" Forget Password \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"email\",\n      label: \"Email Id\",\n      type: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      autoComplete: \"email\",\n      margin: \"normal\",\n      variant: \"outlined\",\n      onChange: this.handlechangeall,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.emailError), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(Button, {\n      id: \"signinButton\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleSubmitButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nexport default ForgetPassword;","map":{"version":3,"sources":["/home/admin1/frontend/src/components/ForgetPassword.jsx"],"names":["React","Component","forgetpassword","TextField","Button","ForgetPassword","constructor","props","validate","isError","errors","emailError","state","email","includes","setState","console","log","setRedirect","redirect","renderRedirect","path","history","push","handlechangeall","event","target","name","value","handleSubmitButton","preventDefault","err","forgetData","then","res","data","meassage","success","alert","catch","render","fontSize","color"],"mappings":";;;;;;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;AAEA,MAAMC,cAAN,SAA6BJ,SAA7B,CAAuC;AACrCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,QATmB,GASR,MAAM;AACf,UAAIC,OAAO,GAAG,KAAd;AAEA,YAAMC,MAAM,GAAG;AACbC,QAAAA,UAAU,EAAE;AADC,OAAf;;AAIA,UAAI,CAAC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,QAAjB,CAA0B,GAA1B,CAAL,EAAqC;AACnCL,QAAAA,OAAO,GAAG,IAAV;AACAC,QAAAA,MAAM,CAACC,UAAP,GAAoB,sBAApB;AACD;;AAED,WAAKI,QAAL,mBACK,KAAKH,KADV,MAEKF,MAFL;AAKAM,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsB,KAAKL,KAAvC;AACA,aAAOH,OAAP;AACD,KA5BkB;;AAAA,SA8BnBS,WA9BmB,GA8BL,MAAM;AAClB,WAAKH,QAAL,CAAc;AACZI,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KAlCkB;;AAAA,SAoCnBC,cApCmB,GAoCF,MAAM;AACrB,UAAI,KAAKR,KAAL,CAAWO,QAAf,EAAyB;AACvB,YAAIE,IAAI,GAAG,GAAX;AACA,aAAKd,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwBF,IAAxB;AACD;AACF,KAzCkB;;AAAA,SA2CnBG,eA3CmB,GA2CDC,KAAK,IAAI;AACzB,WAAKV,QAAL,CAAc;AAAE,SAACU,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAApC,OAAd;AACD,KA7CkB;;AAAA,SA+CnBC,kBA/CmB,GA+CEJ,KAAK,IAAI;AAC5BA,MAAAA,KAAK,CAACK,cAAN;AACA,WAAKtB,QAAL;AACA,YAAMuB,GAAG,GAAG,KAAKvB,QAAL,EAAZ;AAEA,UAAIwB,UAAU,GAAG,EAAjB;AACAA,MAAAA,UAAU,CAACnB,KAAX,GAAmB,KAAKD,KAAL,CAAWC,KAA9B;AAEAG,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCe,UAAhC;AAEA9B,MAAAA,cAAc,CAAC8B,UAAD,CAAd,CACGC,IADH,CACQC,GAAG,IAAI;AACXlB,QAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CiB,GAA/C,EADW,CAEX;AACA;AACA;AACA;;AACA,YAAIA,GAAG,CAACC,IAAJ,CAASC,QAAT,CAAkBC,OAAlB,KAA8B,IAAlC,EAAuC;AACrCC,UAAAA,KAAK,+DAAL;AACA,eAAKpB,WAAL;AACD,SAHD,MAKIoB,KAAK,CAAC,8DAAD,CAAL;;AACA,aAAKpB,WAAL;AACL,OAdH,EAeGqB,KAfH,CAeSR,GAAG,IAAI;AACbO,QAAAA,KAAK,gEAAL;AACCtB,QAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4Cc,GAA5C;AACD,OAlBH;;AAoBA,UAAI,CAACA,GAAL,EAAU;AACR;AACA,aAAKhB,QAAL,CAAc;AACZF,UAAAA,KAAK,EAAE,EADK;AAEZF,UAAAA,UAAU,EAAE;AAFA,SAAd;AAID;AACF,KApFkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXF,MAAAA,UAAU,EAAE,EAFD;AAGXQ,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKD;;AA+EDqB,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,OADL;AAEE,MAAA,KAAK,EAAC,UAFR;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,IAAI,EAAC,OAJP;AAKE,MAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWC,KALpB;AAME,MAAA,YAAY,EAAC,OANf;AAOE,MAAA,MAAM,EAAC,QAPT;AAQE,MAAA,OAAO,EAAC,UARV;AASE,MAAA,QAAQ,EAAE,KAAKW,eATjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,EAeE;AAAK,MAAA,KAAK,EAAE;AAAEiB,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK9B,KAAL,CAAWD,UADd,CAfF,EAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKS,cAAL,EADH,EAEE,oBAAC,MAAD;AACE,MAAA,EAAE,EAAC,cADL;AAEE,MAAA,OAAO,EAAC,WAFV;AAGE,MAAA,KAAK,EAAC,SAHR;AAIE,MAAA,OAAO,EAAE,KAAKS,kBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAlBF,CADF;AAgCD;;AAxHoC;;AA2HvC,eAAexB,cAAf","sourcesContent":["//forgetpassword\n\nimport React, { Component } from \"react\";\nimport { forgetpassword } from \"../services/userServices\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nclass ForgetPassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      emailError: \"\",\n      redirect: false\n    };\n  }\n\n  validate = () => {\n    let isError = false;\n\n    const errors = {\n      emailError: \"\"\n    };\n\n    if (!this.state.email.includes(\"@\")) {\n      isError = true;\n      errors.emailError = \"Requires valid email\";\n    }\n\n    this.setState({\n      ...this.state,\n      ...errors\n    });\n\n    console.log(\"In validate----->\" + this.state);\n    return isError;\n  };\n\n  setRedirect = () => {\n    this.setState({\n      redirect: true\n    });\n  };\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      var path = \"/\";\n      this.props.history.push(path);\n    }\n  };\n\n  handlechangeall = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmitButton = event => {\n    event.preventDefault();\n    this.validate();\n    const err = this.validate();\n\n    var forgetData = {};\n    forgetData.email = this.state.email;\n\n    console.log(\"forget data===> \", forgetData);\n\n    forgetpassword(forgetData)\n      .then(res => {\n        console.log(\"response in forget password--> \", res);\n        // console.log(\n        //   \"response in forget password token is--> \",\n        //   res.data.data\n        // );\n        if (res.data.meassage.success === true){\n          alert(`Link has been sent to your email id to reset the password..`);\n          this.setRedirect();\n        }\n        else\n            alert(\"Entered EmailId is not in database.....Please Register first\");\n            this.setRedirect();\n      })\n      .catch(err => {\n       alert(`Entered EmailId is not in database.....Please Register first`);\n        console.log(\"error in forget password--> \", err);\n      });\n\n    if (!err) {\n      // clear form\n      this.setState({\n        email: \"\",\n        emailError: \"\"\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"maindiv\">\n        <div id=\"login\"> Forget Password </div>\n        <div>\n          <TextField\n            id=\"email\"\n            label=\"Email Id\"\n            type=\"email\"\n            name=\"email\"\n            value={this.state.email}\n            autoComplete=\"email\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            onChange={this.handlechangeall}\n          />\n        </div>\n        <div style={{ fontSize: 12, color: \"red\" }}>\n          {this.state.emailError}\n        </div>\n        <div>\n          {this.renderRedirect()}\n          <Button\n            id=\"signinButton\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.handleSubmitButton}\n          >\n            Submit\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ForgetPassword;\n"]},"metadata":{},"sourceType":"module"}